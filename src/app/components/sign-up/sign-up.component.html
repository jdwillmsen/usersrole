<div class="sign-up">
    <mat-card>
        <mat-card-title>
            <h1>Sign Up</h1>
        </mat-card-title>
        <mat-card-content>
            <form [formGroup]="signUpForm">
                <mat-form-field appearance="outline">
                    <mat-label>Enter your email</mat-label>
                    <input matInput type="email" formControlName="email" placeholder="Email Address" required>
                    <ng-container *ngFor="let validation of validationMessages.email">
                        <mat-error *ngIf="signUpForm.get('email')?.hasError(validation.type) 
                            && (signUpForm.get('email')?.dirty 
                            || signUpForm.get('email')?.touched)">
                            {{validation.message}}
                        </mat-error>
                    </ng-container>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Enter your display name</mat-label>
                    <input matInput type="text" formControlName="displayName" placeholder="Display Name" required>
                    <ng-container *ngFor="let validation of validationMessages.displayName">
                        <mat-error *ngIf="signUpForm.get('displayName')?.hasError(validation.type) 
                            && (signUpForm.get('displayName')?.dirty 
                            || signUpForm.get('displayName')?.touched)">
                            {{validation.message}}
                        </mat-error>
                    </ng-container>
                </mat-form-field>
                <ng-container formGroupName="matchingPassword">
                    <mat-form-field appearance="outline">
                        <mat-label>Enter your password</mat-label>
                        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password"
                            placeholder="Password" required>
                        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hide">
                            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <ng-container *ngFor="let validation of validationMessages.password">
                            <mat-error *ngIf="signUpForm.get('matchingPassword')?.get('password')?.hasError(validation.type) 
                                && (signUpForm.get('matchingPassword')?.get('password')?.dirty 
                                || signUpForm.get('matchingPassword')?.get('password')?.touched)">
                                {{validation.message}}
                            </mat-error>
                        </ng-container>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Enter your confirm password</mat-label>
                        <input matInput [type]="hide ? 'password' : 'text'" formControlName="confirmPassword"
                            placeholder="Confirm Password" required>
                        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hide">
                            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <ng-container *ngFor="let validation of validationMessages.confirmPassword">
                            <mat-error *ngIf="(signUpForm.get('matchingPassword')?.get('confirmPassword')?.hasError(validation.type) 
                                || signUpForm.get('matchingPassword')?.hasError(validation.type))
                                && (signUpForm.get('matchingPassword')?.get('confirmPassword')?.dirty 
                                || signUpForm.get('matchingPassword')?.get('confirmPassword')?.touched)">
                                {{validation.message}}
                            </mat-error>
                        </ng-container>
                    </mat-form-field>
                </ng-container>
                <button mat-raised-button color="primary" type="submit" (click)="signUp()">Sign Up</button>
            </form>
        </mat-card-content>
        <mat-card-actions>
            Already have an account?
            <a routerLink="/sign-in">Sign in</a>
        </mat-card-actions>
    </mat-card>
</div>